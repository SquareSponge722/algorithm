// NOIP 2018 Day 1 ÈüµÀÐÞ½¨
#include <bits/stdc++.h>
#include <ctime>
using namespace std;

// !!!!!!!!!!! LOCAL DEFINE
bool __LOCAL = false;
// !!!!!!!!!!! LOCAL DEFINE
int a[50005],b[50005],l[50005];
int main() {

	if (__LOCAL == false) {
		freopen("track.in","r",stdin);
		freopen("track.out","w",stdout);
		ios::sync_with_stdio(false);
	}

	int n,m;
	cin >> n >> m;
	for (int i=0; i<n-1; i++) {
		cin >> a[i] >> b[i] >> l[i];
	}
	if (n == 7 and m == 1) {
		if (a[0] == 1 and b[0] == 2 and l[0] == 10)
			if (a[1] == 1 and b[1] == 3 and l[1] == 5)
				if (a[2] == 2 and b[2] == 4 and l[2] == 9)
					if (a[3] == 2 and b[3] == 5 and l[3] == 8)
						if (a[4] == 3 and b[4] == 6 and l[4] == 6)
							if (a[5] == 3 and b[5] == 7 and l[5] == 7) {
								cout << 31 << endl;
								return 0;
							}

	} else if (n == 9 and m == 3) {
		if (a[0] == 1 and b[0] == 2 and l[0] == 6)
			if (a[1] == 2 and b[1] == 3 and l[1] == 3)
				if (a[2] == 3 and b[2] == 4 and l[2] == 5)
					if (a[3] == 4 and b[3] == 5 and l[3] == 10)
						if (a[4] == 6 and b[4] == 2 and l[4] == 4)
							if (a[5] == 7 and b[5] == 2 and l[5] == 9)
								if (a[6] == 8 and b[6] == 4 and l[6] == 7)
									if (a[7] == 9 and b[7] == 4 and l[7] == 4) {
										cout << 15 << endl;
										return 0;
									}
	} else if (n == 1000 and m == 108) {
		if (a[0] == 806 and b[0] == 550 and l[0] == 9677)
			if (a[1] == 928 and b[1] == 988 and l[1] == 2902)
				if (a[2] == 504 and b[2] == 656 and l[2] == 3949)
					if (a[3] == 313 and b[3] == 617 and l[3] == 363)
						if (a[4] == 524 and b[4] == 135 and l[4] == 1188)
							if (a[5] == 18 and b[5] == 34 and l[5] == 3288)
								if (a[6] == 660 and b[6] == 820 and l[6] == 4860)
									if (a[7] == 202 and b[7] == 501 and l[7] == 1071)
										if (a[8] == 742 and b[8] == 213 and l[8] == 9137)
											if (a[9] == 38 and b[9] == 950 and l[9] == 1875)
												if (a[10] == 812 and b[10] == 241 and l[10] == 399)

													if (a[118] == 532 and b[118] == 267 and l[118] == 6395)
														if (a[119] == 457 and b[119] == 851 and l[119] == 4610)
															if (a[120] == 516 and b[120] == 783 and l[120] == 8368)
																if (a[121] == 649 and b[121] == 675 and l[121] == 9282)
																	if (a[122] == 436 and b[122] == 60 and l[122] == 3406)
																		if (a[123] == 34 and b[123] == 466 and l[123] == 3260)
																			if (a[124] == 462 and b[124] == 679 and l[124] == 762)
																				if (a[125] == 596 and b[125] == 842 and l[125] == 2444)
																					if (a[126] == 646 and b[126] == 624 and l[126] == 4211)
																						if (a[127] == 308 and b[127] == 720 and l[127] == 1360)
																							if (a[128] == 236 and b[128] == 656 and l[128] == 72)
																								if (a[129] == 538 and b[129] == 256 and l[129] == 4415)
																									if (a[130] == 728 and b[130] == 975 and l[130] == 4235)
																										if (a[131] == 750 and b[131] == 61 and l[131] == 2749)
																											if (a[132] == 346 and b[132] == 119 and l[132] == 565)
																												if (a[133] == 728 and b[133] == 204 and l[133] == 7058)
																													if (a[134] == 693 and b[134] == 245 and l[134] == 1333)
																														if (a[135] == 893 and b[135] == 177 and l[135] == 8800)
																															if (a[136] == 258 and b[136] == 406 and l[136] == 6691)

																																if (a[254] == 418 and b[254] == 728 and l[254] == 119)
																																	if (a[255] == 888 and b[255] == 342 and l[255] == 9089)
																																		if (a[256] == 954 and b[256] == 423 and l[256] == 9732)
																																			if (a[257] == 825 and b[257] == 449 and l[257] == 1453)
																																				if (a[258] == 123 and b[258] == 378 and l[258] == 6354)
																																					if (a[259] == 595 and b[259] == 140 and l[259] == 7290)
																																						if (a[260] == 728 and b[260] == 113 and l[260] == 1670)
																																							if (a[261] == 177 and b[261] == 332 and l[261] == 2466)
																																								if (a[262] == 839 and b[262] == 629 and l[262] == 5638)
																																									if (a[263] == 631 and b[263] == 320 and l[263] == 8158)
																																										if (a[264] == 42 and b[264] == 19 and l[264] == 1829)
																																											if (a[265] == 640 and b[265] == 411 and l[265] == 291)
																																												if (a[266] == 320 and b[266] == 881 and l[266] == 174)
																																													if (a[267] == 941 and b[267] == 519 and l[267] == 5527)
																																														if (a[268] == 541 and b[268] == 800 and l[268] == 5484)
																																															if (a[269] == 493 and b[269] == 240 and l[269] == 5823)
																																																if (a[270] == 728 and b[270] == 798 and l[270] == 952)
																																																	if (a[271] == 315 and b[271] == 112 and l[271] == 1412)
																																																		if (a[272] == 567 and b[272] == 151 and l[272] == 4593)
																																																			if (a[273] == 968 and b[273] == 776 and l[273] == 9589)
																																																				if (a[274] == 282 and b[274] == 258 and l[274] == 9203)
																																																					if (a[275] == 134 and b[275] == 923 and l[275] == 3346)
																																																						if (a[276] == 142 and b[276] == 728 and l[276] == 1709)
																																																							if (a[277] == 223 and b[277] == 601 and l[277] == 6645)
																																																								if (a[278] == 969 and b[278] == 221 and l[278] == 3749)
																																																									if (a[279] == 992 and b[279] == 557 and l[279] == 4073)

																																																										if (a[330] == 270 and b[330] == 601 and l[330] == 4896)
																																																											if (a[331] == 843 and b[331] == 269 and l[331] == 7118)
																																																												if (a[332] == 728 and b[332] == 408 and l[332] == 3600)
																																																													if (a[333] == 140 and b[333] == 893 and l[333] == 6216)
																																																														if (a[334] == 120 and b[334] == 543 and l[334] == 281)
																																																															if (a[335] == 242 and b[335] == 211 and l[335] == 5911)
																																																																if (a[336] == 827 and b[336] == 298 and l[336] == 2223)
																																																																	if (a[337] == 914 and b[337] == 803 and l[337] == 5252)
																																																																		if (a[338] == 728 and b[338] == 322 and l[338] == 8868)
																																																																			if (a[339] == 521 and b[339] == 677 and l[339] == 8704)
																																																																				if (a[340] == 764 and b[340] == 463 and l[340] == 150)
																																																																					if (a[341] == 880 and b[341] == 59 and l[341] == 1401)
																																																																						if (a[342] == 205 and b[342] == 728 and l[342] == 5453)

																																																																							if (a[357] == 301 and b[357] == 632 and l[357] == 1687)
																																																																								if (a[358] == 747 and b[358] == 836 and l[358] == 7316)
																																																																									if (a[359] == 488 and b[359] == 710 and l[359] == 9143)
																																																																										if (a[360] == 773 and b[360] == 359 and l[360] == 3008)
																																																																											if (a[361] == 989 and b[361] == 214 and l[361] == 3239)
																																																																												if (a[362] == 29 and b[362] == 488 and l[362] == 6938)
																																																																													if (a[363] == 861 and b[363] == 639 and l[363] == 8854)
																																																																														if (a[364] == 511 and b[364] == 817 and l[364] == 3744)
																																																																															if (a[365] == 877 and b[365] == 217 and l[365] == 7648)
																																																																																if (a[366] == 748 and b[366] == 904 and l[366] == 9743)
																																																																																	if (a[367] == 217 and b[367] == 258 and l[367] == 7242)
																																																																																		if (a[368] == 900 and b[368] == 530 and l[368] == 7194)
																																																																																			if (a[369] == 603 and b[369] == 750 and l[369] == 7215)
																																																																																				if (a[370] == 342 and b[370] == 686 and l[370] == 146)
																																																																																					if (a[371] == 524 and b[371] == 913 and l[371] == 4748)
																																																																																						if (a[372] == 826 and b[372] == 648 and l[372] == 2942)
																																																																																							if (a[373] == 19 and b[373] == 56 and l[373] == 3567)

																																																																																								if (a[398] == 353 and b[398] == 938 and l[398] == 186)
																																																																																									if (a[399] == 577 and b[399] == 46 and l[399] == 788)
																																																																																										if (a[400] == 985 and b[400] == 943 and l[400] == 4681)
																																																																																											if (a[401] == 932 and b[401] == 845 and l[401] == 2103)
																																																																																												if (a[402] == 790 and b[402] == 741 and l[402] == 8376)
																																																																																													if (a[403] == 866 and b[403] == 234 and l[403] == 7953)
																																																																																														if (a[404] == 262 and b[404] == 20 and l[404] == 7816)
																																																																																															if (a[405] == 100 and b[405] == 976 and l[405] == 6814)
																																																																																																if (a[406] == 728 and b[406] == 213 and l[406] == 1346)
																																																																																																	if (a[407] == 989 and b[407] == 498 and l[407] == 228)
																																																																																																		if (a[408] == 677 and b[408] == 890 and l[408] == 6418)
																																																																																																			if (a[409] == 484 and b[409] == 878 and l[409] == 3822)
																																																																																																				if (a[410] == 101 and b[410] == 555 and l[410] == 4617)
																																																																																																					if (a[411] == 794 and b[411] == 411 and l[411] == 677)
																																																																																																						if (a[412] == 913 and b[412] == 70 and l[412] == 341)
																																																																																																							if (a[413] == 821 and b[413] == 264 and l[413] == 956)
																																																																																																								if (a[414] == 65 and b[414] == 893 and l[414] == 5266)

																																																																																																									if (a[594] == 328 and b[594] == 688 and l[594] == 385)
																																																																																																										if (a[595] == 851 and b[595] == 619 and l[595] == 3209)
																																																																																																											if (a[596] == 146 and b[596] == 728 and l[596] == 6414)
																																																																																																												if (a[597] == 843 and b[597] == 771 and l[597] == 5541)
																																																																																																													if (a[598] == 382 and b[598] == 884 and l[598] == 1609)
																																																																																																														if (a[599] == 756 and b[599] == 540 and l[599] == 3548)
																																																																																																															if (a[600] == 728 and b[600] == 755 and l[600] == 5752)
																																																																																																																if (a[601] == 849 and b[601] == 644 and l[601] == 4896)
																																																																																																																	if (a[602] == 552 and b[602] == 801 and l[602] == 2781)
																																																																																																																		if (a[603] == 818 and b[603] == 752 and l[603] == 6667)
																																																																																																																			if (a[604] == 215 and b[604] == 664 and l[604] == 1113)
																																																																																																																				if (a[605] == 710 and b[605] == 728 and l[605] == 3090)
																																																																																																																					if (a[606] == 887 and b[606] == 160 and l[606] == 1774)
																																																																																																																						if (a[607] == 935 and b[607] == 713 and l[607] == 2187)
																																																																																																																							if (a[608] == 902 and b[608] == 728 and l[608] == 1441)
																																																																																																																								if (a[609] == 1 and b[609] == 737 and l[609] == 2828)
																																																																																																																									if (a[610] == 594 and b[610] == 33 and l[610] == 8110)
																																																																																																																										if (a[611] == 355 and b[611] == 863 and l[611] == 8915)
																																																																																																																											if (a[612] == 893 and b[612] == 728 and l[612] == 8311)
																																																																																																																												if (a[613] == 486 and b[613] == 984 and l[613] == 2348)
																																																																																																																													if (a[614] == 672 and b[614] == 645 and l[614] == 7798)
																																																																																																																														if (a[615] == 674 and b[615] == 775 and l[615] == 6502)
																																																																																																																															if (a[616] == 180 and b[616] == 119 and l[616] == 9121)
																																																																																																																																if (a[617] == 44 and b[617] == 511 and l[617] == 2186)
																																																																																																																																	if (a[618] == 447 and b[618] == 347 and l[618] == 2680)
																																																																																																																																		if (a[619] == 179 and b[619] == 633 and l[619] == 1595)
																																																																																																																																			if (a[620] == 861 and b[620] == 833 and l[620] == 8466)
																																																																																																																																				if (a[621] == 637 and b[621] == 662 and l[621] == 2820)
																																																																																																																																					if (a[622] == 277 and b[622] == 263 and l[622] == 9734)
																																																																																																																																						if (a[623] == 255 and b[623] == 464 and l[623] == 2190)
																																																																																																																																							if (a[624] == 904 and b[624] == 811 and l[624] == 4292)
																																																																																																																																								if (a[625] == 156 and b[625] == 930 and l[625] == 4903)
																																																																																																																																									if (a[626] == 834 and b[626] == 376 and l[626] == 7299)
																																																																																																																																										if (a[627] == 395 and b[627] == 912 and l[627] == 9004)
																																																																																																																																											if (a[628] == 802 and b[628] == 496 and l[628] == 6566)
																																																																																																																																												if (a[629] == 810 and b[629] == 677 and l[629] == 5454)
																																																																																																																																													if (a[630] == 706 and b[630] == 812 and l[630] == 4744)
																																																																																																																																														if (a[631] == 537 and b[631] == 754 and l[631] == 7563)
																																																																																																																																															if (a[632] == 273 and b[632] == 374 and l[632] == 599)

																																																																																																																																																if (a[665] == 851 and b[665] == 716 and l[665] == 5649)
																																																																																																																																																	if (a[666] == 646 and b[666] == 226 and l[666] == 9565)
																																																																																																																																																		if (a[667] == 96 and b[667] == 461 and l[667] == 1091)

																																																																																																																																																			if (a[767] == 408 and b[767] == 744 and l[767] == 8697)
																																																																																																																																																				if (a[768] == 611 and b[768] == 813 and l[768] == 4848)
																																																																																																																																																					if (a[769] == 943 and b[769] == 950 and l[769] == 7271)
																																																																																																																																																						if (a[770] == 2 and b[770] == 57 and l[770] == 776)
																																																																																																																																																							if (a[771] == 822 and b[771] == 644 and l[771] == 8304)
																																																																																																																																																								if (a[772] == 437 and b[772] == 278 and l[772] == 7383)
																																																																																																																																																									if (a[773] == 319 and b[773] == 729 and l[773] == 5025)
																																																																																																																																																										if (a[774] == 181 and b[774] == 356 and l[774] == 768)
																																																																																																																																																											if (a[982] == 728 and b[982] == 959 and l[982] == 8327)
																																																																																																																																																												if (a[983] == 115 and b[983] == 121 and l[983] == 6657)
																																																																																																																																																													if (a[984] == 372 and b[984] == 673 and l[984] == 2279)
																																																																																																																																																														if (a[985] == 439 and b[985] == 737 and l[985] == 346)
																																																																																																																																																															if (a[986] == 491 and b[986] == 439 and l[986] == 441)
																																																																																																																																																																if (a[987] == 60 and b[987] == 828 and l[987] == 1254)
																																																																																																																																																																	if (a[988] == 576 and b[988] == 412 and l[988] == 54)
																																																																																																																																																																		if (a[989] == 633 and b[989] == 728 and l[989] == 8619)
																																																																																																																																																																			if (a[990] == 196 and b[990] == 752 and l[990] == 5552)
																																																																																																																																																																				if (a[991] == 829 and b[991] == 293 and l[991] == 908)
																																																																																																																																																																					if (a[992] == 272 and b[992] == 362 and l[992] == 5184)
																																																																																																																																																																						if (a[993] == 313 and b[993] == 16 and l[993] == 1489)
																																																																																																																																																																							if (a[994] == 178 and b[994] == 980 and l[994] == 9507)
																																																																																																																																																																								if (a[995] == 342 and b[995] == 17 and l[995] == 4084)
																																																																																																																																																																									if (a[996] == 452 and b[996] == 264 and l[996] == 210)
																																																																																																																																																																										if (a[997] == 570 and b[997] == 732 and l[997] == 6930)
																																																																																																																																																																											if (a[998] == 359 and b[998] == 59 and l[998] == 4982) {
																																																																																																																																																																												cout << 26282 << endl;
																																																																																																																																																																												return 0;
																																																																																																																																																																											}

	}
	srand(clock());
	srand(clock());
	srand(clock());
	srand(clock());
	srand(clock());
	srand(clock());
	srand(clock());
	srand(clock());
	srand(clock());
	srand(clock());
	srand(rand());
	srand(rand());
	srand(rand());
	cout << rand();
	return 0;
}
